(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),o=a(5),s=(a(87),a(28)),i=a(125),m=a(123),u=a(124),p=a(74),d=a(118),E=a(24),h=a(22),f=a.n(h),g=a(9),v=a.n(g),b=a(67),y=a.n(b),O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=y.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},j=function(e){e?v.a.defaults.headers.common["x-auth-token"]=e:delete v.a.defaults.headers.common["x-auth-token"]},w=function(){return function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.token){a.next=16;break}return j(localStorage.token),a.prev=2,console.log("test"),a.next=6,f.a.awrap(v.a.get("/login"));case 6:t=a.sent,console.log(t),e({type:"USER_LOADED",payload:t.data}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),e({type:"AUTH_ERROR"});case 14:a.next=17;break;case 16:e({type:"AUTH_ERROR"});case 17:case"end":return a.stop()}}),null,null,[[2,11]])}},C=Object(E.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,l=t.loading,c=e.logout,s=r.a.createElement(i.a,{className:"ml-auto"},r.a.createElement(i.a.Link,{activeStyle:{color:"#ED5035"},as:o.c,exact:!0,to:"/actors/add"},"Add New Actor"),r.a.createElement(i.a.Link,{activeStyle:{color:"#ED5035"},as:o.c,exact:!0,to:"/movies/add"},"Add New Movie"),r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{to:"/profiles",exact:!0,as:o.c},"Profile")),r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{onClick:c,href:"#!"},"Logout"))),E=r.a.createElement(i.a,{className:"ml-auto"},r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{to:"/register",exact:!0,as:o.c},"Register")),r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{to:"/login",exact:!0,as:o.c},"Login")));return r.a.createElement(m.a,{bg:"light",expand:"lg"},r.a.createElement(i.a,null,r.a.createElement(m.a.Brand,{to:"/",exact:!0,as:o.c},"Movies.ba"),r.a.createElement(i.a.Item,null," ",r.a.createElement(i.a.Link,{to:"/",exact:!0,as:o.c},"Home")),r.a.createElement(i.a.Item,null," ",r.a.createElement(i.a.Link,{to:"/movies",exact:!0,as:o.c},"Movies")),r.a.createElement(i.a.Item,null," ",r.a.createElement(i.a.Link,{to:"/category",exact:!0,as:o.c},"Category")),r.a.createElement(i.a.Item,null," ",r.a.createElement(i.a.Link,{to:"/actors",exact:!0,as:o.c},"Actors"))),r.a.createElement(i.a,null,r.a.createElement(i.a.Item,null,r.a.createElement(u.a,{inline:!0,className:"justify-content-center"},r.a.createElement(p.a,{type:"text",placeholder:"Search",className:"ml-sm-2"}),r.a.createElement(d.a,{variant:"outline-success"},"Search")))),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},!l&&r.a.createElement(n.Fragment,null,a?s:E)))})),S=a(76),A=function(){return r.a.createElement(S.a,{src:"https://cdn.hipwallpaper.com/i/5/97/fcIupN.jpg",roundedCircle:!0})},N=a(14),k=a(15),L=a(17),x=a(16),I=a(18),R=a(23),T=a(12),_=a(44),G=Object(E.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:O,register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r,l,c,o;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({name:t,email:a,password:n}),s.prev=2,s.next=5,f.a.awrap(v.a.post("/users",l,r));case 5:c=s.sent,e({type:"REGISTER_SUCCESS",payload:c.data}),e(w()),s.next=15;break;case 10:s.prev=10,s.t0=s.catch(2),(o=s.t0.response.data.errors)&&o.forEach((function(t){return e(O(t.msg,"danger"))})),e({type:"REGISTER_FAIL"});case 15:case"end":return s.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.setAlert,a=e.register,l=e.isAuthenticated,c=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(_.a)(c,2),m=i[0],u=i[1],p=m.name,d=m.email,E=m.password,h=m.password2,g=function(e){return u(Object(T.a)({},m,Object(R.a)({},e.target.name,e.target.value)))};return l?r.a.createElement(s.a,{to:"/profiles"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign Up"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Create Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),E!==h?t("Passwords do not match","danger"):a({name:p,email:d,password:E});case 2:case"end":return n.stop()}}))}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:p,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:d,onChange:function(e){return g(e)}}),r.a.createElement("small",{className:"form-text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:E,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"password2",value:h,onChange:function(e){return g(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Register"})),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(o.b,{to:"/login"},"Sign In")))})),D=Object(E.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(a){var n,r,l,c;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),o.prev=2,o.next=5,f.a.awrap(v.a.post("/login",r,n));case 5:l=o.sent,a({type:"LOGIN_SUCCESS",payload:l.data}),a(w()),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(2),(c=o.t0.response.data.errors)&&c.forEach((function(e){return a(O(e.msg,"danger"))})),a({type:"LOGIN_FAIL"});case 15:case"end":return o.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.login,a=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),c=Object(_.a)(l,2),i=c[0],m=c[1],u=i.email,p=i.password,d=function(e){return m(Object(T.a)({},i,Object(R.a)({},e.target.name,e.target.value)))};return a?r.a.createElement(s.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Sign Into Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),t(u,p);case 2:case"end":return a.stop()}}))}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:u,onChange:function(e){return d(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:p,onChange:function(e){return d(e)},minLength:"5"})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Login"})),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(o.b,{to:"/register"},"Sign Up")))})),F=function(){return r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound-404"},r.a.createElement("h1",null,"Oops!"),r.a.createElement("h2",null,"404 - The Page cannot be found")),r.a.createElement("a",null,r.a.createElement(o.c,{to:"/"},"Go to Home"))))},M=a(119),P=a(120),U=a(75),J=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(R.a)({},e.target.name,e.target.value))},a.addNewActors=function(e){e.preventDefault(),v.a.post("/actor",{name:a.state.name,from:a.state.from,age:a.state.age},{headers:{Authorization:"myJwtToken"}}).then((function(e){console.log("Actor successfully added."),alert("Actor successfully added."),a.props.history.push("/actors")})).catch((function(e){console.log(e.response)})).finally((function(){console.log("Request completed.")}))},a.state={name:"",from:"",age:""},a}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(P.a,{className:"justify-content-center"},r.a.createElement(U.a,{sm:6},r.a.createElement(u.a,{onSubmit:this.addNewProduct},r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"Name:"),r.a.createElement(u.a.Control,{name:"name",onChange:this.handleChange,type:"text",placeholder:"Enter actor name"})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"From:"),r.a.createElement(u.a.Control,{name:"from",onChange:this.handleChange,type:"text",placeholder:"Where is this actor from?"})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"Age:"),r.a.createElement(u.a.Control,{name:"age",onChange:this.handleChange,type:"text",placeholder:"Enter actor age"})),r.a.createElement(d.a,{variant:"success",type:"submit",onClick:this.addNewActors},"Submit"))))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(R.a)({},e.target.name,e.target.value))},a.addNewMovies=function(e){e.preventDefault(),v.a.post("/movies",{name:a.state.name,year:a.state.year,genre:a.state.genre},{headers:{Authorization:"myJwtToken"}}).then((function(e){console.log("Movie successfully added."),alert("Movie successfully added."),a.props.history.push("/movies")})).catch((function(e){console.log(e.response)})).finally((function(){console.log("Request completed.")}))},a.state={name:"",year:"",genre:""},a}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(P.a,{className:"justify-content-center"},r.a.createElement(U.a,{sm:6},r.a.createElement(u.a,{onSubmit:this.addNewProduct},r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"Name:"),r.a.createElement(u.a.Control,{name:"name",onChange:this.handleChange,type:"text",placeholder:"Enter movie name"})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"Year:"),r.a.createElement(u.a.Control,{name:"year",onChange:this.handleChange,type:"text",placeholder:"Enter movie year"})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,null,"Genre:"),r.a.createElement(u.a.Control,{name:"genre",onChange:this.handleChange,type:"text",placeholder:"Enter movie genre"})),r.a.createElement(d.a,{variant:"success",type:"submit",onClick:this.addNewMovies},"Submit"))))))}}]),t}(n.Component),H=a(121),V=a(126),W=a(122),Y=a(78),q=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(x.a)(t).call(this,e))).componentDidMount=function(){v.a.get("/actor").then((function(e){a.setState({actors:e.data})})).catch((function(e){console.log(e.response)})).finally((function(){console.log("actors been retrieved."),a.setState({isLoading:!1})}))},a.state={actors:[],isLoading:!0},a}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state.actors;return r.a.createElement("div",null,r.a.createElement("h2",null,"Actor list"),r.a.createElement("div",null,r.a.createElement(H.a,null,e.map((function(e,t){return r.a.createElement(V.a,{key:t,style:{width:"18rem",margin:"1rem"}},r.a.createElement(V.a.Img,{variant:"top",src:e.image}),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,null,e.name)),r.a.createElement(W.a,{className:"list-group-flush"},r.a.createElement(Y.a,null,r.a.createElement("b",null,"Age: "),e.age),r.a.createElement(Y.a,null,r.a.createElement("b",null,"From: "),e.from)))})))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(x.a)(t).call(this,e))).componentDidMount=function(){v.a.get("/movies").then((function(e){a.setState({movies:e.data})})).catch((function(e){console.log(e.response)})).finally((function(){console.log("movies been retrieved."),a.setState({isLoading:!1})}))},a.state={movies:[],isLoading:!0},a}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state.movies;return console.log(this.props),r.a.createElement("div",null,r.a.createElement("h2",null,"Movie list"),r.a.createElement("div",null,r.a.createElement(H.a,null,e.map((function(e,t){return r.a.createElement(V.a,{key:t,style:{width:"18rem",margin:"1rem"}},r.a.createElement(V.a.Img,{variant:"top",src:e.image}),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,null,e.name)),r.a.createElement(W.a,{className:"list-group-flush"},r.a.createElement(Y.a,null,r.a.createElement("b",null,"Year: "),e.year),r.a.createElement(Y.a,null,r.a.createElement("b",null,"Genre: "),e.genre)))})))))}}]),t}(n.Component);var K=function(e){return r.a.createElement("div",null,"Profile")},$=a(30),Q=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement($.a,null,r.a.createElement($.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://hips.hearstapps.com/pop.h-cdn.co/assets/15/14/2560x1280/landscape-1428004383-blade-runner.jpg?resize=480:*",alt:"First slide"}),r.a.createElement($.a.Caption,null,r.a.createElement("h3",null,"Sciene Fiction movies"))),r.a.createElement($.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://www.nairaland.com/attachments/5886491_filmgenreconventions2638_jpegd06dfcd56feea05219afdad43d803bb9",alt:"Third slide"}),r.a.createElement($.a.Caption,null,r.a.createElement("h3",null,"Action movies"))),r.a.createElement($.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://static.kupindoslike.com/DOMACI-FILMOVI-Kolekcija-od-6-originalnih-DVD-filmova_slika_O_31974345.jpg",alt:"Third slide"}),r.a.createElement($.a.Caption,null,r.a.createElement("h3",null,"Domaci movies"))))}}]),t}(n.Component),X=function(){return r.a.createElement("div",null,r.a.createElement(Q,null))},Z=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props.isAuthenticated;return r.a.createElement("section",{className:"container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/register",component:G}),r.a.createElement(s.b,{exact:!0,path:"/category",component:X}),r.a.createElement(s.b,{exact:!0,path:"/login",component:D}),e&&r.a.createElement(s.b,{private:!0,path:"/actors/add",component:J}),r.a.createElement(s.b,{exact:!0,path:"/actors",component:q}),e&&r.a.createElement(s.b,{private:!0,path:"/movies/add",component:B}),r.a.createElement(s.b,{exact:!0,path:"/movies",component:z}),e&&r.a.createElement(s.b,{private:!0,path:"/profiles",component:K}),e&&r.a.createElement(s.b,{private:!0,path:"/movies/add",component:B}),r.a.createElement(s.b,{component:F})))}}]),t}(r.a.Component),ee=Object(E.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(Z),te=a(25),ae=a(79),ne=a(80),re=a(81),le=[],ce={token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,user:null},oe={profile:null,profiles:[],loading:!0,error:{}},se=Object(te.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(re.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(T.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(T.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(T.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(T.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(T.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(T.a)({},e,{error:n,loading:!1});case"CLEAR_PROFILE":return Object(T.a)({},e,{profile:null,loading:!1});default:return e}}}),ie=[ne.a],me=Object(te.createStore)(se,{},Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,ie)));a(114);localStorage.token&&j(localStorage.token);var ue=function(){return Object(n.useEffect)((function(){me.dispatch(w())}),[]),r.a.createElement(E.a,{store:me},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:A}),r.a.createElement(s.b,{component:ee})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(115);c.a.render(r.a.createElement(o.a,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,a){e.exports=a(116)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.39f699d1.chunk.js.map